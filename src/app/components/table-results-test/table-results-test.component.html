<div class="d-flex justify-content-between mt-1">
    <h3>Historial de pruebas</h3>
    <!-- <select class="form-select" style="width: auto">
        <option>Todos</option>
        <option>2023</option>
        <option>2022</option>
    </select> -->
</div>
<div *ngIf="!tests" class="p-5 text-center">
    <h4>No se encontraron pruebas para este paciente</h4>
</div>
<div *ngIf="tests">
    <div class="table-responsive">
        <table class="table table-striped table-hover border mt-3">
            <thead class="table-dark text-white">
                <tr>
                    <th class="text-center">ID</th>
                    <th class="text-center">Fecha</th>
                    <th class="text-center">Hora</th>
                    <th class="text-center">Duración</th>
                    <th class="text-center">Dispositivo</th>
                    <th class="text-center">Resultado</th>
                    <th class="text-center">Prevalencia (%)</th>
                    <th class="text-center"></th>
                </tr>
            </thead>
            <tbody class="border border-dark align-middle fw-normal">
                <tr *ngFor="let test of tests; let i = index">
                    <td class="text-center"> {{ i + 1 }} </td>
                    <td class="text-center"> {{ test.fecha_prueba }} </td>
                    <td class="text-center"> {{ test.hora_prueba }} </td>
                    <td class="text-center"> {{ test.tiempo_prueba }} </td>
                    <td class="text-center"> 
                        <ng-container *ngIf="test.idTipoDispositivo === 1">
                            <span class="rounded-4 text-white px-2 bg-info py-1">{{ test.tipo_dispositivo.nombre }}</span>
                        </ng-container>
                    </td>
                    <td class="text-center">
                        <ng-container *ngIf="test.diagnosticoFinal === '' || test.diagnosticoFinal === null">
                            <span class="rounded-4 text-white px-2 bg-danger py-1">No Evaluado</span>
                        </ng-container>
                        <ng-container *ngIf="test.diagnosticoFinal === '0'">
                            <span class="rounded-4 text-white px-2 bg-info py-1">Sin TDAH</span>
                        </ng-container>
                        <ng-container *ngIf="test.diagnosticoFinal === '1'">
                            <span class="rounded-4 text-white px-2 bg-warning py-1">TDAH Inatento</span>
                        </ng-container>
                        <ng-container *ngIf="test.diagnosticoFinal === '2'">
                            <span class="rounded-4 text-white px-2 bg-primary py-1">TDAH Hiperactivo</span>
                        </ng-container>
                        <ng-container *ngIf="test.diagnosticoFinal === '3'">
                            <span class="rounded-4 text-white px-2 bg-success py-1">TDAH Mixto</span>
                        </ng-container>
                        <!-- <ng-container *ngIf="diaf === '' || diaf === null">
                            <span class="rounded-4 text-white px-2 bg-danger py-1 fw-bolder">No Evaluado</span>
                        </ng-container>
                        <ng-container *ngIf="diaf === '0'">
                            <span class="rounded-4 text-white px-2 bg-info py-1 fw-bolder">Sin TDAH</span>
                        </ng-container>
                        <ng-container *ngIf="diaf === '1'">
                            <span class="rounded-4 text-white px-2 bg-warning py-1 fw-bolder">TDAH Inatento</span>
                        </ng-container>
                        <ng-container *ngIf="diaf === '2'">
                            <span class="rounded-4 text-white px-2 bg-primary py-1 fw-bolder">TDAH Hiperactivo</span>
                        </ng-container>
                        <ng-container *ngIf="diaf === '3'">
                            <span class="rounded-4 text-white px-2 bg-success py-1 fw-bolder">TDAH Mixto</span>
                        </ng-container> -->
                    </td>
                    <td class="text-center">
                        <!-- <span *ngIf="prob===''" class="rounded-pill bg-success text-white py-1 px-2 fw-semi">--%</span>
                        <span *ngIf="prob!==''" class="rounded-pill bg-success text-white py-1 px-2 fw-semi">{{ this.prob }}%</span> -->
                        <span *ngIf="test.diagnosticoFinal===''" class="rounded-pill bg-success text-white py-1 px-2 fw-semi">--%</span>
                        <span *ngIf="test.diagnosticoFinal!==''" class="rounded-pill bg-success text-white py-1 px-2 fw-semi">{{ test.probabilidad }}%</span>
                    </td>
                    <td class="text-center">
                        <button [routerLink]="['/app/patients/patient-profile/reports', test.idDetallePrueba]" 
                            type="button" class="btn btn-rounded btn-outline-info">
                            Ver reporte <i class="fas fa-angle-right"></i> 
                        </button>
                    </td>
                </tr>
            </tbody>
        </table>
    </div>
    <div class="d-flex justify-content-between">
        <select class="form-select" style="width: auto">
            <option>5 items por página</option>
            <option>10 items por página</option>
        </select>
    </div>
</div>